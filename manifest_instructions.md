# Инструкции по модификации `manifest.json`

Чтобы интегрировать конвертер в ваше существующее расширение, вам нужно внести следующие изменения в ваш файл `manifest.json`.

1.  **Добавьте разрешение `identity`**:
    Это разрешение необходимо для использования API аутентификации браузера (`chrome.identity`).

    ```json
    "permissions": [
        "identity",
        // ... другие ваши разрешения
    ],
    ```

2.  **Добавьте блок `oauth2`**:
    Этот блок регистрирует ваше приложение в браузере как OAuth 2.0 клиент. Браузер будет использовать эти данные для корректного формирования запросов к Яндексу. **Вставьте ваш `client_id`**, который вы мне предоставили.

    ```json
    "oauth2": {
        "client_id": "20a5e57c3a524f1984b3be55baa8b358",
        "scopes": [
            "cloud_api:disk.app_folder"
        ]
    }
    ```

    *   `client_id`: Ваш уникальный идентификатор приложения.
    *   `scopes`: Список разрешений, которые запрашивает расширение. В нашем случае, это доступ только к папке приложения на Яндекс Диске, что является безопасной и рекомендуемой практикой.

3. **Опционально: Добавьте `key` для постоянного ID расширения**
   При разработке ваше распакованное расширение имеет временный ID. Чтобы зафиксировать его (что полезно для API Яндекса), вы можете добавить поле `"key"`.
   1. Установите ваше расширение в "режиме разработчика" один раз.
   2. Скопируйте его ID со страницы `chrome://extensions`.
   3. Вставьте этот ID в качестве значения для поля `"key"`.

   ```json
    "key": "ВАШ_СКОПИРОВАННЫЙ_ID_РАСШИРЕНИЯ",
   ```

**Полный пример `manifest.json` может выглядеть так:**

```json
{
    "manifest_version": 3,
    "name": "Ваше Расширение",
    "version": "1.0",
    "description": "Описание вашего расширения.",
    "default_locale": "en",

    "permissions": [
        "identity",
        "storage"
    ],

    "oauth2": {
        "client_id": "20a5e57c3a524f1984b3be55baa8b358",
        "scopes": [
            "cloud_api:disk.app_folder"
        ]
    },

    "action": {
        "default_popup": "popup.html"
    }
}
```

После внесения этих изменений и добавления файлов `any2nmap_ui.html` и `any2nmap.js` в ваш проект, конвертер должен заработать.
